<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <h1><span id="titolo"></span></h1>
  </header>
  <div class="container">
    <h1><span id="nome"></span><br><span id="richiesta"></span></h1>
    <div class="button-container">
      <button class="rounded-button" onclick="azione1()"><span id="pul">RIVELA</span></button>
    </div>
  </div>
  <script src="domande.js"></script>
  <script>
    let domi = Math.floor(Math.random() * dom.length);
    sessionStorage.setItem("domanda", dom[domi]);
    let ti = document.getElementById("titolo");
    if (domi < 108) {
      ti.innerHTML = "INDICA QUALCUNO";
    } else if (domi < 218) {
      ti.innerHTML = "ALZA UN NUMERO DI DITA";
    } else {
      ti.innerHTML = "ALZA LA MANO";
    }

    const retrievedArrayAsString = sessionStorage.getItem("class");
    const nome = JSON.parse(retrievedArrayAsString);
    let output = document.getElementById("nome");
    let i = 0;
    let flag = 1;
    const faker = parseInt(sessionStorage.getItem("faker"), 10);
    output.innerHTML = nome[0];
    let rich = document.getElementById("richiesta");
    let pullo = document.getElementById("pul");

    function azione1() {
      if (i === nome.length) {
        alert("VIA!");
        window.location.href = "game2.html";
      } else if (flag) {
        flag = 0;
        if (i % nome.length === faker) {
          rich.innerHTML = "Rip sei il faker, buona fortuna.";
        } else if (nome[i] === "Simones") {
          rich.innerHTML = dom[domi] + "<br /> btw il faker Ã¨: " + nome[faker];
        } else {
          rich.innerHTML = dom[domi];
        }
        pullo.innerHTML = "NASCONDI E PASSA";
        i += 1;
      }
      else {
        flag = 1;
        output.innerHTML = nome[i % nome.length];
        pullo.innerHTML = "RIVELA";
        rich.innerHTML = "";
      }
    }
  </script>
</body>

</html>